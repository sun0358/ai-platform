// frontend/src/styles/mixins.scss

@use 'sass:map';  // 导入map模块
@use './variables' as vars;

// 清除浮动
@mixin clearfix {
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

// 文本截断
@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// 多行文本截断
@mixin text-ellipsis-multi($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

// 居中布局
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// 响应式媒体查询
@mixin respond-to($breakpoint) {
  @if map.has-key(vars.$breakpoints, $breakpoint) {
    $breakpoint-value: map.get(vars.$breakpoints, $breakpoint);

    @if $breakpoint == 'mobile' {
      @media (max-width: $breakpoint-value) {
        @content;
      }
    } @else {
      @media (min-width: $breakpoint-value) {
        @content;
      }
    }
  } @else {
    @warn "Breakpoint '#{$breakpoint}' not found in $breakpoints map.";
  }
}

// 滚动条样式
@mixin scrollbar($width: 8px, $track-color: #f1f1f1, $thumb-color: #ddd) {
  &::-webkit-scrollbar {
    width: $width;
    height: $width;
  }

  &::-webkit-scrollbar-track {
    background: $track-color;
  }

  &::-webkit-scrollbar-thumb {
    background: $thumb-color;
    border-radius: $width / 2;

    &:hover {
      background: darken($thumb-color, 10%);
    }
  }
}